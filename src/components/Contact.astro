---
import Heading from "@/components/Heading.astro";
import { config } from "@/constants/config";
import { getCollection } from "astro:content";

const [contact] = await getCollection("contact");
const { data, render } = contact;
const { title } = data;
const { Content: ContactContent } = await render();
---

<section class="contact_container section inline-link" id="contact">
  <Heading class="green_heading">What's Next?</Heading>
  <h4 class="title">{title}</h4>
  <ContactContent />
  <a
    class="email_link big-button"
    href={`mailto:${config.email}?subject=Hello%20There!&body=Hi%20there,%20I%20visited%20your%20website%20and%20would%20like%20to%20get%20in%20touch.`}
    target="_blank"
    rel="nofollow noopener noreferrer"
  >
    Contact
  </a>
</section>

<script>
  import ScrollReveal from "scrollreveal";
  import { config } from "@/constants/config.ts";

  ScrollReveal().reveal(".contact_container", config.srConfig());
</script>

<style>
  .contact_container {
    text-align: center;
    max-width: 600px;
    margin: 0 auto 100px;
  }
  .green_heading {
    display: block;
    color: var(--color-green);
    font-size: var(--text-medium);
    font-family: var(--font-sf-mono);
    font-weight: normal;
    margin-bottom: 20px;
    justify-content: center;
    &:before {
      bottom: 0;
      font-size: var(--text-small);
    }
    &:after {
      display: none;
    }
  }
  .title {
    margin: 0 0 20px;
    font-size: 60px;
  }
  .email_link {
    margin-top: 50px;
  }
  @media screen and (max-width: 62.5em) {
    .green_heading {
      font-size: var(--text-small);
      &:before {
        font-size: var(--text-smallish);
      }
    }
    .title {
      font-size: 50px;
    }
  }
  @media screen and (max-width: 48em) {
    .title {
      font-size: 40px;
    }
  }
</style>
